##### Why?一、为什么需要代理服务器

客户端发送网络请求到服务端，在这个过程中我们分一下层：客户端，服务端；假如因为业务需求我需要对网络请求或者网络返回做处理怎么办？此时就需要再有一个“层”来做这些个性化的处理，我们称之为中间层，位于客户端与服务端之间。中间层的具体实现就可以称之为代理服务器

**代理服务器又可以分为正向代理和反向代理**

- 正向代理：客户端知道代理服务器的存在。在客户端设置了代理服务器的ip或者域名，当客户端发起网络请求的时候，先经过事先指定好的代理服务器，之后代理像目标服务器转交并将获取的内容返回给客户端（一般只用在翻墙
- 反向代理：客户端并不知道代理服务器的存在。客户端的请求到达反向代理服务器，经过反向代理服务器的处理分发，交由目标服务器获取内容，之后返回给客户端（应用广泛）

代理服务器的一些具体作用（这里指反向代理）：

> 1、防止外网黑客、病毒攻击应用服务器（即时黑客或者病毒攻击只能攻击到我的代理服务器，能保证我的业务服务器的正常）
>
> 2、做负载均衡（SLB）减轻单个服务器的压力，将高访问量压力分摊到整个服务器集群
>
> 3、动静分离（缓存静态内容）：运用Nginx的反向代理功能分发请求：所有动态资源交由目标服务器，静态资源（例如图片、视频、CSS、JavaScript文件等）则由Nginx直接返回。因为主要是nginx处理静态页面的效率远高于tomcat的处理能力，使用c语言开发的nginx对静态资源每秒的吞吐量是使用Java语言开发的tomcat的6倍，也远高于其它应用服务器

##### what 二、代理服务器Nginx

Nginx 是俄罗斯人编写的十分轻量级的 HTTP 服务器,Nginx，它的发音为“engine X”，是一个高性能的HTTP和反向代理服务器，同时也是一个 IMAP/POP3/SMTP 代理服务器。Nginx 是由俄罗斯人 Igor Sysoev 为俄罗斯访问量第二的 Rambler.ru 站点开发的，它已经在该站点运行超过两年半了。Igor Sysoev 在建立的项目时,使用基于 BSD 许可。
到 2013 年，目前有很多国内网站采用 Nginx 作为 Web 服务器，如国内知名的淘宝、京东、百度、新浪、163、腾讯、Discuz、豆瓣等。据 netcraft 统计，Nginx 排名第 3，约占 15% 的份额
**总结三大优点：性能高、轻量级、易操作**

nginx的具体安装配置运行，暂时不去研究

##### 三、常见问题

**Q1、正向代理和反向代理的区别？**

答：1、位置（分层）不同:正向代理是设置在客户端，反向代理设置在服务端
2、功能不同：正向代理是代理客户端发送请求，反向代理是代理服务端接收请求

**Q2、动态资源里面嵌入的静态资源有必要使用动静分离吗**

答：nginx处理静态资源的性能比普通的应用服务器高6倍左右

Q3、**反向代理和负载均衡有何区别**

答：反向代理是实现负载均衡的一种方式。

w